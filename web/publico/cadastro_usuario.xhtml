<?xml version='1.0' encoding='UTF-8' ?>  
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/template_publico.xhtml">
    <ui:define name="conteudo">

        <div class="row">
            <div class="col-lg-12 form-group">
                <center>
                    <h:form style="background-color: white; margin: 15% 25% 25% 25%;padding: 50px;"
                               enctype="multipart/form-data">
                        <h1>Cadastro de usuário</h1>

                        <p:panelGrid columns="2">
                            <p:outputLabel value="Nome"/>
                            <p:inputText value="#{ usuarioBean.usuario.nome }" placeholder="Nome" id="nome" required="true">
                                <f:validateLength maximum="10000" minimum="1"/>
                            </p:inputText>
                            
                            <p:outputLabel value="Minha foto"/>
                            <p:fileUpload value="#{ usuarioBean.usuario.arquivo }" mode="simple" skinSimple="true"/>
                            
                            <p:outputLabel value="E-mail"/>
                            <p:inputText class="form-control" value="#{ usuarioBean.usuario.email }"
                                         placeholder="E-mail do usuario" 
                                         requiredMessage="Por favor insira seu e-mail."
                                         validatorMessage="formato de e-mail inválido"
                                         required="true">
                                <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            </p:inputText>

                            <p:outputLabel value="Senha"/>
                            <p:password value="#{ usuarioBean.usuario.senha }" placeholder="Senha" id="senha">
                                <f:validateLength maximum="2048" minimum="8"/>
                            </p:password>
                            
                        </p:panelGrid>
                        <p:commandButton styleClass="btn btn-primary btn-lg" 
                                         style="width: 50%;height: 50px;"
                                         action="#{ usuarioBean.criar }" value="Cadastrar" ajax="false"/>
                        <p:link style="margin: 10px;" href="/" value="Voltar" />
                    </h:form>
                </center>
            </div>
        </div>
    </ui:define>
</ui:composition>